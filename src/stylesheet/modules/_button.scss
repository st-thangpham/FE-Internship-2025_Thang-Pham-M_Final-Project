@use "sass:map";
@use "sass:list";
@use "sass:meta";
@use "../base/mixins";
@use "../base/variables";

$button-colors: (
  primary: map.get(variables.$color, primary),
  danger: map.get(variables.$color, red),
);

$button-sizes: (
  "sm": (4px,
    12px,
    14px,
  ),
  "md": (8px,
    16px,
    16px,
  ),
  "lg": (12px,
    20px,
    18px,
  ),
  "xl": (16px,
    24px,
    20px,
  ),
);

.btn {
  @include mixins.pxRem(border-radius, map.get(variables.$border-radius, lg));
  @include mixins.pxRem(height, 40);
  border: none;
  outline: none;
  cursor: pointer;
  user-select: none;
  display: flex;
  align-items: center;
  justify-content: center;
  // default size
  padding: list.nth(map.get($button-sizes, "md"), 1) list.nth(map.get($button-sizes, "md"), 2);
  font-size: list.nth(map.get($button-sizes, "md"), 3);

  @each $name, $color in $button-colors {
    &-#{$name} {
      font-weight: bold;
      background-color: $color;
      color: map.get(variables.$color, white);
      opacity: 0.8;

      &:hover {
        opacity: 1;
        transition: opacity 0.3s;
      }

      &:disabled {
        background-color: if(meta.type-of($color)=="color",
            rgba($color, 0.4),
            $color );
        cursor: not-allowed;
      }
    }
  }

  @each $size, $values in $button-sizes {
    &-#{$size} {
      padding: list.nth($values, 1) list.nth($values, 2);
      font-size: list.nth($values, 3);
    }
  }

  &.btn-block {
    width: 100%;
  }

  &.btn-avatar {
    @include mixins.pxRem(width, 30);
    @include mixins.pxRem(height, 30);
    @include mixins.border-radius(50%);
    padding: 0;
    font-size: 0;
    line-height: 0;

    .img {
      @include mixins.border-radius(50%);
    }

    &:hover {
      opacity: 0.8;
      transition: opacity 0.3s;
    }
  }

  &.btn-auth {
    @include mixins.pxRem(border-radius, 12);
    @include mixins.pxRem(font-size, map.get(variables.$font-size, sm));
    font-weight: 500;
    background-color: map.get(variables.$color, primary);
    color: map.get(variables.$color, white);
    transition: transform 0.3s;

    &:hover {
      transform: scale(1.05);
    }
  }

  &.btn-icon {
    @include mixins.pxRem(width, 20);
    @include mixins.pxRem(height, 20);
    padding: 0;
    line-height: 0;
  }

  &.btn-scroll {
    position: absolute;
    width: 6%;
    height: 100%;
    border: none;
    background: transparent;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0;
    z-index: 2;
    cursor: pointer;

    &::before {
      content: '';
      position: absolute;
      top: 50%;
      transform: translateY(-50%) rotate(135deg);
      left: 12px;
      width: 8px;
      height: 8px;
      border: solid map.get(variables.$color, grey-b);
      border-width: 0 2px 2px 0;
      z-index: 3;
    }

    &::after {
      content: '';
      position: absolute;
      top: 0;
      bottom: 0;
      width: 100%;
      z-index: 1;
      pointer-events: none;
    }

    &.left {
      left: 0;

      &::after {
        background: linear-gradient(to right, white 40%, transparent);
      }
    }

    &.right {
      right: 0;

      &::before {
        transform: translateY(-50%) rotate(-45deg);
        right: 12px;
        left: auto;
      }

      &::after {
        background: linear-gradient(to left, white 40%, transparent);
      }
    }
  }

  &.btn-submit {
    @include mixins.pxRem(width, 70);
    @include mixins.pxRem(height, 30);
    @include mixins.border-radius(4px);
    background-color: map.get(variables.$color, success);
    color: map.get(variables.$color, white);
    font-weight: 500;
    font-size: map.get(variables.$font-size, sm);
    border: none;
    border-radius: 999px;
    cursor: pointer;
  }
}
